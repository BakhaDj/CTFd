!function(r){function e(e){for(var t,a,n=e[0],l=e[1],s=e[2],o=0,d=[];o<n.length;o++)a=n[o],u[a]&&d.push(u[a][0]),u[a]=0;for(t in l)Object.prototype.hasOwnProperty.call(l,t)&&(r[t]=l[t]);for(f&&f(e);d.length;)d.shift()();return c.push.apply(c,s||[]),i()}function i(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,l=1;l<a.length;l++){var s=a[l];0!==u[s]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=a[0]))}return e}var a={},u={3:0},c=[];function o(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=r,o.c=a,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/themes/core/static/js";var t=window.webpackJsonp=window.webpackJsonp||[],n=t.push.bind(t);t.push=e,t=t.slice();for(var l=0;l<t.length;l++)e(t[l]);var f=n;c.push(["./CTFd/themes/core/assets/js/pages/challenges.js",0,1]),i()}({"./CTFd/themes/core/assets/js/pages/challenges.js":function(e,t,a){a("./CTFd/themes/core/assets/js/pages/main.js"),a("./node_modules/bootstrap/js/dist/tab.js");var o=s(a("./node_modules/nunjucks/browser/nunjucks.js")),n=s(a("./node_modules/markdown-it/index.js")),l=a("./CTFd/themes/core/assets/js/ezq.js"),r=a("./CTFd/themes/core/assets/js/utils.js"),i=s(a("./node_modules/moment/moment.js")),v=s(a("./node_modules/jquery/dist/jquery.js")),d=s(a("./CTFd/themes/core/assets/js/CTFd.js")),u=s(a("./CTFd/themes/core/assets/js/config.js"));function s(e){return e&&e.__esModule?e:{default:e}}var c={teams:function(e){return d.default.api.get_team_solves({teamId:e})},users:function(e){return d.default.api.get_user_solves({userId:e})}},f=(0,n.default)({html:!0,linkify:!0});d.default._internal.challenge={};var b=[],w=[],y=function(t){var e=v.default.grep(b,function(e){return e.id==t})[0];"hidden"!==e.type?h(e):(0,l.ezAlert)({title:"Challenge Hidden!",body:"You haven't unlocked this challenge yet!",button:"Got it!"})},h=function(s){return Promise.all([d.default.api.get_challenge({challengeId:s.id}),v.default.getScript(u.default.urlRoot+s.script),v.default.get(u.default.urlRoot+s.template)]).then(function(e){var t=e[0].data,a=e[2],n=d.default._internal.challenge;(0,v.default)("#challenge-window").empty();var l=o.default.compile(a);n.data=t,n.preRender(),t.description=n.render(t.description),t.script_root=d.default.config.urlRoot,(0,v.default)("#challenge-window").append(l.render(t)),(0,v.default)(".challenge-solves").click(function(e){k((0,v.default)("#challenge-id").val())}),(0,v.default)(".nav-tabs a").click(function(e){e.preventDefault(),(0,v.default)(this).tab("show")}),(0,v.default)("#challenge-window").on("hide.bs.modal",function(e){(0,v.default)("#submission-input").removeClass("wrong"),(0,v.default)("#submission-input").removeClass("correct"),(0,v.default)("#incorrect-key").slideUp(),(0,v.default)("#correct-key").slideUp(),(0,v.default)("#already-solved").slideUp(),(0,v.default)("#too-fast").slideUp()}),(0,v.default)(".load-hint").on("click",function(e){j((0,v.default)(this).data("hint-id"))}),(0,v.default)("#submit-key").click(function(e){e.preventDefault(),(0,v.default)("#submit-key").addClass("disabled-button"),(0,v.default)("#submit-key").prop("disabled",!0),d.default._internal.challenge.submit().then(p).then(g).then(m)}),(0,v.default)("#submission-input").keyup(function(e){13==e.keyCode&&(0,v.default)("#submit-key").click()}),(0,v.default)(".input-field").bind({focus:function(){(0,v.default)(this).parent().addClass("input--filled")},blur:function(){var e=(0,v.default)(this);""===e.val()&&(e.parent().removeClass("input--filled"),e.siblings(".input-label").removeClass("input--hide"))}}),n.postRender(),window.location.replace(window.location.href.split("#")[0]+"#"+s.name),(0,v.default)("#challenge-window").modal()})};function p(e){var t=e.data,a=(0,v.default)("#result-message"),n=(0,v.default)("#result-notification"),l=(0,v.default)("#submission-input");n.removeClass(),a.text(t.message),"authentication_required"!==t.status?("incorrect"===t.status?(n.addClass("alert alert-danger alert-dismissable text-center"),n.slideDown(),l.removeClass("correct"),l.addClass("wrong"),setTimeout(function(){l.removeClass("wrong")},3e3)):"correct"===t.status?(n.addClass("alert alert-success alert-dismissable text-center"),n.slideDown(),(0,v.default)(".challenge-solves").text(parseInt((0,v.default)(".challenge-solves").text().split(" ")[0])+1+" Solves"),l.val(""),l.removeClass("wrong"),l.addClass("correct")):"already_solved"===t.status?(n.addClass("alert alert-info alert-dismissable text-center"),n.slideDown(),l.addClass("correct")):"paused"===t.status?(n.addClass("alert alert-warning alert-dismissable text-center"),n.slideDown()):"ratelimited"===t.status&&(n.addClass("alert alert-warning alert-dismissable text-center"),n.slideDown(),l.addClass("too-fast"),setTimeout(function(){l.removeClass("too-fast")},3e3)),setTimeout(function(){(0,v.default)(".alert").slideUp(),(0,v.default)("#submit-key").removeClass("disabled-button"),(0,v.default)("#submit-key").prop("disabled",!1)},3e3)):window.location=d.default.config.urlRoot+"/login?next="+d.default.config.urlRoot+window.location.pathname+window.location.hash}function m(){return c[d.default.config.userMode]("me").then(function(e){for(var t=e.data,a=t.length-1;0<=a;a--){var n=(0,v.default)('button[value="'+t[a].challenge_id+'"]');n.addClass("solved-challenge"),n.prepend("<i class='fas fa-check corner-button-check'></i>")}})}function k(e){return d.default.api.get_challenge_solves({challengeId:e}).then(function(e){var t=e.data;(0,v.default)(".challenge-solves").text(parseInt(t.length)+" Solves");var a=(0,v.default)("#challenge-solves-names");a.empty();for(var n=0;n<t.length;n++){var l=t[n].account_id,s=t[n].name,o=(0,i.default)(t[n].date).local().fromNow(),d=t[n].account_url;a.append('<tr><td><a href="{0}">{2}</td><td>{3}</td></tr>'.format(d,l,(0,r.htmlEntities)(s),o))}})}function g(){return d.default.api.get_challenge_list().then(function(e){var t=[],a=(0,v.default)("#challenges-board");b=e.data,a.empty();for(var n=b.length-1;0<=n;n--)if(b[n].solves=0,-1==v.default.inArray(b[n].category,t)){var l=b[n].category;t.push(l);var s=l.replace(/ /g,"-").hashCode(),o=(0,v.default)('<div id="{0}-row" class="pt-5">'.format(s)+'<div class="category-header col-md-12 mb-3"></div><div class="category-challenges col-md-12"><div class="challenges-row col-md-12"></div></div></div>');o.find(".category-header").append((0,v.default)("<h3>"+l+"</h3>")),a.append(o)}for(var d=0;d<=b.length-1;d++){var r=b[d],i=r.name.replace(/ /g,"-").hashCode(),u=r.category.replace(/ /g,"-").hashCode(),c=(0,v.default)("<div id='{0}' class='col-md-3 d-inline-block'></div>".format(i)),f=void 0;f=-1==w.indexOf(r.id)?(0,v.default)("<button class='btn btn-dark challenge-button w-100 text-truncate pt-3 pb-3 mb-2' value='{0}'></button>".format(r.id)):(0,v.default)("<button class='btn btn-dark challenge-button solved-challenge w-100 text-truncate pt-3 pb-3 mb-2' value='{0}'><i class='fas fa-check corner-button-check'></i></button>".format(r.id));for(var h=(0,v.default)("<p>{0}</p>".format(r.name)),p=(0,v.default)("<span>{0}</span>".format(r.value)),m=0;m<r.tags.length;m++){var g="tag-"+r.tags[m].value.replace(/ /g,"-");c.addClass(g)}f.append(h),f.append(p),c.append(f),(0,v.default)("#"+u+"-row").find(".category-challenges > .challenges-row").append(c)}(0,v.default)(".challenge-button").click(function(e){y(this.value),k(this.value)})})}function C(){return(0==d.default.user.id?Promise.resolve():c[d.default.config.userMode]("me").then(function(e){for(var t=e.data,a=t.length-1;0<=a;a--){var n=t[a].challenge_id;t.push(n)}})).then(g).then(m)}(0,v.default)(function(){C().then(function(){0<window.location.hash.length&&function(t){var e=v.default.grep(b,function(e){return e.name==t})[0];h(e)}(decodeURIComponent(window.location.hash.substring(1)))}),(0,v.default)("#submission-input").keyup(function(e){13==e.keyCode&&(0,v.default)("#submit-key").click()}),(0,v.default)(".nav-tabs a").click(function(e){e.preventDefault(),(0,v.default)(this).tab("show")}),(0,v.default)("#challenge-window").on("hidden.bs.modal",function(e){(0,v.default)(".nav-tabs a:first").tab("show"),history.replaceState("",window.document.title,window.location.pathname)}),(0,v.default)(".challenge-solves").click(function(e){k((0,v.default)("#challenge-id").val())}),(0,v.default)("#challenge-window").on("hide.bs.modal",function(e){(0,v.default)("#submission-input").removeClass("wrong"),(0,v.default)("#submission-input").removeClass("correct"),(0,v.default)("#incorrect-key").slideUp(),(0,v.default)("#correct-key").slideUp(),(0,v.default)("#already-solved").slideUp(),(0,v.default)("#too-fast").slideUp()})}),setInterval(C,3e5);function _(e){(0,l.ezAlert)({title:"Hint",body:f.render(e.content),button:"Got it!"})}var j=function(t){d.default.api.get_hint({hintId:t}).then(function(e){e.data.content?_(e.data):function(t){(0,l.ezQuery)({title:"Unlock Hint?",body:"Are you sure you want to open this hint?",success:function(){var e={target:t,type:"hints"};d.default.api.post_unlock_list({},e).then(function(e){e.success?d.default.api.get_hint({hintId:t}).then(function(e){_(e.data)}):(0,l.ezAlert)({title:"Error",body:f.render(e.errors.score),button:"Got it!"})})}})}(t)})}}});