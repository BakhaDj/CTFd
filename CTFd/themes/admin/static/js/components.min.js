(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"./CTFd/themes/admin/assets/js/components/comments/CommentBox.vue":function(e,t,s){s.r(t);var a=s("./CTFd/themes/admin/assets/js/components/comments/CommentBox.vue?vue&type=template&id=1fd2c08a&scoped=true&"),i=s("./CTFd/themes/admin/assets/js/components/comments/CommentBox.vue?vue&type=script&lang=js&");for(var n in i)"default"!==n&&function(e){s.d(t,e,function(){return i[e]})}(n);s("./CTFd/themes/admin/assets/js/components/comments/CommentBox.vue?vue&type=style&index=0&id=1fd2c08a&scoped=true&lang=css&");var o=s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),l=Object(o.a)(i.default,a.a,a.b,!1,null,"1fd2c08a",null);l.options.__file="CTFd/themes/admin/assets/js/components/comments/CommentBox.vue",t.default=l.exports},"./CTFd/themes/admin/assets/js/components/comments/CommentBox.vue?vue&type=script&lang=js&":function(e,t,s){s.r(t);var a=s("./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./CTFd/themes/admin/assets/js/components/comments/CommentBox.vue?vue&type=script&lang=js&"),i=s.n(a);for(var n in a)"default"!==n&&function(e){s.d(t,e,function(){return a[e]})}(n);t.default=i.a},"./CTFd/themes/admin/assets/js/components/comments/CommentBox.vue?vue&type=style&index=0&id=1fd2c08a&scoped=true&lang=css&":function(e,t,s){var a=s("./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js?!./CTFd/themes/admin/assets/js/components/comments/CommentBox.vue?vue&type=style&index=0&id=1fd2c08a&scoped=true&lang=css&");s.n(a).a},"./CTFd/themes/admin/assets/js/components/comments/CommentBox.vue?vue&type=template&id=1fd2c08a&scoped=true&":function(e,t,s){function a(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"comment"},[a("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:s.comment,expression:"comment",modifiers:{lazy:!0}}],staticClass:"form-control mb-2",attrs:{rows:"2",id:"comment-input",placeholder:"Add comment"},domProps:{value:s.comment},on:{change:function(e){s.comment=e.target.value}}}),s._v(" "),a("button",{staticClass:"btn btn-sm btn-success btn-outlined float-right",attrs:{type:"submit"},on:{click:function(e){return s.submitComment()}}},[s._v("\n          Comment\n        ")])])])]),s._v(" "),1<s.pages?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-link p-0",attrs:{type:"button",disabled:!s.prev},on:{click:function(e){return s.prevPage()}}},[s._v("\n          <<<\n        ")]),s._v(" "),a("button",{staticClass:"btn btn-link p-0",attrs:{type:"button",disabled:!s.next},on:{click:function(e){return s.nextPage()}}},[s._v("\n          >>>\n        ")])])]),s._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"text-center"},[a("small",{staticClass:"text-muted"},[s._v("Page "+s._s(s.page)+" of "+s._s(s.total)+" comments")])])])]):s._e(),s._v(" "),a("div",{staticClass:"comments"},[a("transition-group",{attrs:{name:"comment-card"}},s._l(s.comments,function(t){return a("div",{key:t.id,staticClass:"comment-card card mb-2"},[a("div",{staticClass:"card-body pl-0 pb-0 pt-2 pr-2"},[a("button",{staticClass:"close float-right",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return s.deleteComment(t.id)}}},[a("span",{attrs:{"aria-hidden":"true"}},[s._v("×")])])]),s._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"card-text",domProps:{innerHTML:s._s(t.html)}}),s._v(" "),a("small",{staticClass:"text-muted float-left"},[a("span",[a("a",{attrs:{href:s.urlRoot+"/admin/users/"+t.author_id}},[s._v(s._s(t.author.name))])])]),s._v(" "),a("small",{staticClass:"text-muted float-right"},[a("span",{staticClass:"float-right"},[s._v(s._s(s.toLocalTime(t.date)))])])])])}),0)],1),s._v(" "),1<s.pages?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-link p-0",attrs:{type:"button",disabled:!s.prev},on:{click:function(e){return s.prevPage()}}},[s._v("\n          <<<\n        ")]),s._v(" "),a("button",{staticClass:"btn btn-link p-0",attrs:{type:"button",disabled:!s.next},on:{click:function(e){return s.nextPage()}}},[s._v("\n          >>>\n        ")])])]),s._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"text-center"},[a("small",{staticClass:"text-muted"},[s._v("Page "+s._s(s.page)+" of "+s._s(s.total)+" comments")])])])]):s._e()])}var i=[];a._withStripped=!0,s.d(t,"a",function(){return a}),s.d(t,"b",function(){return i})},"./CTFd/themes/admin/assets/js/components/files/MediaLibrary.vue":function(e,t,s){s.r(t);var a=s("./CTFd/themes/admin/assets/js/components/files/MediaLibrary.vue?vue&type=template&id=50f8d42a&"),i=s("./CTFd/themes/admin/assets/js/components/files/MediaLibrary.vue?vue&type=script&lang=js&");for(var n in i)"default"!==n&&function(e){s.d(t,e,function(){return i[e]})}(n);var o=s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),l=Object(o.a)(i.default,a.a,a.b,!1,null,null,null);l.options.__file="CTFd/themes/admin/assets/js/components/files/MediaLibrary.vue",t.default=l.exports},"./CTFd/themes/admin/assets/js/components/files/MediaLibrary.vue?vue&type=script&lang=js&":function(e,t,s){s.r(t);var a=s("./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./CTFd/themes/admin/assets/js/components/files/MediaLibrary.vue?vue&type=script&lang=js&"),i=s.n(a);for(var n in a)"default"!==n&&function(e){s.d(t,e,function(){return a[e]})}(n);t.default=i.a},"./CTFd/themes/admin/assets/js/components/files/MediaLibrary.vue?vue&type=template&id=50f8d42a&":function(e,t,s){function a(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"media-modal",tabindex:"-1"}},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[s._m(0),s._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"modal-header"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row mh-100"},[a("div",{staticClass:"col-md-6",attrs:{id:"media-library-list"}},s._l(s.files,function(t){return a("div",{key:t.id,staticClass:"media-item-wrapper"},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return s.selectFile(t),!1}}},[a("i",{class:s.getIconClass(t.location),attrs:{"aria-hidden":"true"}}),s._v(" "),a("small",{staticClass:"media-item-title"},[s._v(s._s(t.location.split("/").pop()))])])])}),0),s._v(" "),a("div",{staticClass:"col-md-6",attrs:{id:"media-library-details"}},[a("h4",{staticClass:"text-center"},[s._v("Media Details")]),s._v(" "),a("div",{attrs:{id:"media-item"}},[a("div",{staticClass:"text-center",attrs:{id:"media-icon"}},[this.selectedFile?a("div",["far fa-file-image"===s.getIconClass(this.selectedFile.location)?a("div",[a("img",{staticStyle:{"max-width":"100%","max-height":"100%","object-fit":"contain"},attrs:{src:s.buildSelectedFileUrl()}})]):a("div",[a("i",{class:s.getIconClass(this.selectedFile.location)+" fa-4x",attrs:{"aria-hidden":"true"}})])]):s._e()]),s._v(" "),a("br"),s._v(" "),this.selectedFile?a("div",{staticClass:"text-center",attrs:{id:"media-filename"}},[a("a",{attrs:{href:s.buildSelectedFileUrl(),target:"_blank"}},[s._v("\n                      "+s._s(this.selectedFile.location.split("/").pop())+"\n                    ")])]):s._e(),s._v(" "),a("br"),s._v(" "),a("div",{staticClass:"form-group"},[this.selectedFile?a("div",[s._v("\n                      Link:\n                      "),a("input",{staticClass:"form-control",attrs:{type:"text",id:"media-link",readonly:""},domProps:{value:s.buildSelectedFileUrl()}})]):a("div",[s._v("\n                      Link:\n                      "),a("input",{staticClass:"form-control",attrs:{type:"text",id:"media-link",readonly:""}})])]),s._v(" "),a("div",{staticClass:"form-group text-center"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn btn-success w-100",attrs:{id:"media-insert","data-toggle":"tooltip","data-placement":"top",title:"Insert link into editor"},on:{click:s.insertSelectedFile}},[s._v("\n                          Insert\n                        ")])]),s._v(" "),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"btn btn-primary w-100",attrs:{id:"media-download","data-toggle":"tooltip","data-placement":"top",title:"Download file"},on:{click:s.downloadSelectedFile}},[a("i",{staticClass:"fas fa-download"})])]),s._v(" "),a("div",{staticClass:"col-md-3"},[a("button",{staticClass:"btn btn-danger w-100",attrs:{id:"media-delete","data-toggle":"tooltip","data-placement":"top",title:"Delete file"},on:{click:s.deleteSelectedFile}},[a("i",{staticClass:"far fa-trash-alt"})])])])])])])])])]),s._v(" "),s._m(1)]),s._v(" "),a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"float-right"},[a("button",{staticClass:"btn btn-primary media-upload-button",attrs:{type:"submit"},on:{click:s.uploadChosenFiles}},[s._v("\n            Upload\n          ")])])])])])])}var i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal-header"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("h3",{staticClass:"text-center"},[e._v("Media Library")])])])]),e._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{attrs:{id:"media-library-upload",enctype:"multipart/form-data"}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"media-files"}},[e._v("\n              Upload Files\n            ")]),e._v(" "),s("input",{staticClass:"form-control-file",attrs:{type:"file",name:"file",id:"media-files",multiple:""}}),e._v(" "),s("sub",{staticClass:"help-block"},[e._v("\n              Attach multiple files using Control+Click or Cmd+Click.\n            ")])]),e._v(" "),s("input",{attrs:{type:"hidden",value:"page",name:"type"}})])}];a._withStripped=!0,s.d(t,"a",function(){return a}),s.d(t,"b",function(){return i})},"./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./CTFd/themes/admin/assets/js/components/comments/CommentBox.vue?vue&type=script&lang=js&":function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(s("./CTFd/themes/core/assets/js/CTFd.js")),i=o(s("./CTFd/themes/core/assets/js/helpers.js")),n=o(s("./node_modules/moment/moment.js"));function o(e){return e&&e.__esModule?e:{default:e}}var l={props:{type:String,id:Number},data:function(){return{page:1,pages:null,next:null,prev:null,total:null,comment:"",comments:[],urlRoot:a.default.config.urlRoot}},methods:{toLocalTime:function(e){return(0,n.default)(e).local().format("MMMM Do, h:mm:ss A")},nextPage:function(){this.page++,this.loadComments()},prevPage:function(){this.page--,this.loadComments()},getArgs:function(){var e={};return e["".concat(this.$props.type,"_id")]=this.$props.id,e},loadComments:function(){var t=this,e=this.getArgs();e.page=this.page,e.per_page=10,i.default.comments.get_comments(e).then(function(e){return t.page=e.meta.pagination.page,t.pages=e.meta.pagination.pages,t.next=e.meta.pagination.next,t.prev=e.meta.pagination.prev,t.total=e.meta.pagination.total,t.comments=e.data,t.comments})},submitComment:function(){var e=this,t=this.comment.trim();0<t.length&&i.default.comments.add_comment(t,this.$props.type,this.getArgs(),function(){e.loadComments()}),this.comment=""},deleteComment:function(s){var a=this;confirm("Are you sure you'd like to delete this comment?")&&i.default.comments.delete_comment(s).then(function(e){if(!0===e.success)for(var t=a.comments.length-1;0<=t;--t)a.comments[t].id==s&&a.comments.splice(t,1)})}},created:function(){this.loadComments()}};t.default=l},"./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./CTFd/themes/admin/assets/js/components/files/MediaLibrary.vue?vue&type=script&lang=js&":function(e,t,s){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(s("./CTFd/themes/core/assets/js/CTFd.js")),i=(s("./CTFd/themes/core/assets/js/ezq.js"),n(s("./CTFd/themes/core/assets/js/helpers.js")));function n(e){return e&&e.__esModule?e:{default:e}}var o={props:{editor:Object},data:function(){return{files:[],selectedFile:null}},methods:{getPageFiles:function(){var t=this;a.default.fetch("/api/v1/files?type=page",{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return t.files=e.data,t.files})},uploadChosenFiles:function(){var t=this,e=document.querySelector("#media-library-upload");i.default.files.upload(e,{},function(e){t.getPageFiles()})},selectFile:function(e){return this.selectedFile=e,this.selectedFile},buildSelectedFileUrl:function(){return a.default.config.urlRoot+"/files/"+this.selectedFile.location},deleteSelectedFile:function(){var t=this,e=this.selectedFile.id;confirm("Are you sure you want to delete this file?")&&a.default.fetch("/api/v1/files/"+e,{method:"DELETE"}).then(function(e){200===e.status&&e.json().then(function(e){e.success&&(t.getPageFiles(),t.selectedFile=null)})})},insertSelectedFile:function(){var e=this.$props.editor;e.hasOwnProperty("codemirror")&&(e=e.codemirror);var t=e.getDoc(),s=t.getCursor(),a=this.buildSelectedFileUrl(),i="far fa-file-image"===this.getIconClass(this.selectedFile.location),n=a.split("/").pop();link="[{0}]({1})".format(n,a),i&&(link="!"+link),t.replaceRange(link,s)},downloadSelectedFile:function(){var e=this.buildSelectedFileUrl();window.open(e,"_blank")},getIconClass:function(e){return{png:"far fa-file-image",jpg:"far fa-file-image",jpeg:"far fa-file-image",gif:"far fa-file-image",bmp:"far fa-file-image",svg:"far fa-file-image",txt:"far fa-file-alt",mov:"far fa-file-video",mp4:"far fa-file-video",wmv:"far fa-file-video",flv:"far fa-file-video",mkv:"far fa-file-video",avi:"far fa-file-video",pdf:"far fa-file-pdf",mp3:"far fa-file-sound",wav:"far fa-file-sound",aac:"far fa-file-sound",zip:"far fa-file-archive",gz:"far fa-file-archive",tar:"far fa-file-archive","7z":"far fa-file-archive",rar:"far fa-file-archive",py:"far fa-file-code",c:"far fa-file-code",cpp:"far fa-file-code",html:"far fa-file-code",js:"far fa-file-code",rb:"far fa-file-code",go:"far fa-file-code"}[e.split(".").pop()]||"far fa-file"}},created:function(){return this.getPageFiles()}};t.default=o},"./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js?!./CTFd/themes/admin/assets/js/components/comments/CommentBox.vue?vue&type=style&index=0&id=1fd2c08a&scoped=true&lang=css&":function(e,t,s){(t=s("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([e.i,"\n.card .close[data-v-1fd2c08a] {\n  opacity: 0;\n  transition: 0.2s;\n}\n.card:hover .close[data-v-1fd2c08a] {\n  opacity: 0.5;\n}\n.close[data-v-1fd2c08a]:hover {\n  opacity: 0.75 !important;\n}\n.comment-card-leave[data-v-1fd2c08a] {\n  max-height: 200px;\n}\n.comment-card-leave-to[data-v-1fd2c08a] {\n  max-height: 0;\n}\n.comment-card-active[data-v-1fd2c08a] {\n  position: absolute;\n}\n.comment-card-enter-active[data-v-1fd2c08a],\n.comment-card-move[data-v-1fd2c08a],\n.comment-card-leave-active[data-v-1fd2c08a] {\n  transition: all 0.3s;\n}\n",""]),e.exports=t},"./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js?!./CTFd/themes/admin/assets/js/components/comments/CommentBox.vue?vue&type=style&index=0&id=1fd2c08a&scoped=true&lang=css&":function(e,t,s){var a=s("./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/vue-loader/lib/index.js?!./CTFd/themes/admin/assets/js/components/comments/CommentBox.vue?vue&type=style&index=0&id=1fd2c08a&scoped=true&lang=css&");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,s("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("0b5f1745",a,!1,{})}}]);