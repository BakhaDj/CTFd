import{m as n,T as l,d as s,C as c}from"./index.69d1de7e.js";window.Alpine=n;n.data("SetupForm",()=>({init(){this.$root.querySelectorAll("input").forEach(e=>{e.addEventListener("keypress",t=>{t.key=="Enter"&&(t.preventDefault(),t.target.closest(".tab-pane").querySelector("button[data-href]").click())}),e.addEventListener("change",t=>{t.target.checkValidity()===!1?t.target.classList.add("input-filled-invalid"):t.target.classList.remove("input-filled-invalid")})}),window.addEventListener("storage",function(e){e.key=="integrations"&&e.newValue&&JSON.parse(e.newValue).name=="mlc"&&($("#integration-mlc").text("Already Configured").attr("disabled",!0),window.focus(),localStorage.removeItem("integrations"))})},validateFileSize(e,t){e.target.files[0].size>t&&(confirm(`This image file is larger than ${t/1e3}KB which may result in increased load times. Are you sure you'd like to use this file?`)||(e.target.value=""))},switchTab(e){let t=!0;if(e.target.closest('[role="tabpanel"]').querySelectorAll("input,textarea").forEach(o=>{o.checkValidity()===!1&&(o.classList.add("input-filled-invalid"),t=!1)}),t==!1)return;let a=e.target.dataset.href,r=this.$root.querySelector(`[data-bs-target="${a}"]`);l.getOrCreateInstance(r).show()},setThemeColor(e){document.querySelector("#config-color-input").value=e.target.value},resetThemeColor(e){document.querySelector("#config-color-input").value="",document.querySelector("#config-color-picker").value=""},processDateTime(e){return function(t){let i=document.querySelector(`#${e}-date`),a=document.querySelector(`#${e}-time`),r=s(`${i.value} ${a.value}`,"YYYY-MM-DD HH:mm").unix();isNaN(r)?document.querySelector(`#${e}-preview`).value="":document.querySelector(`#${e}-preview`).value=r}},mlcSetup(){let e=document.querySelector,t=c.config.urlRoot,i={name:e("#ctf_name").value,type:"jeopardy",description:e("#ctf_description").value,user_mode:e("#user_mode").value,event_url:window.location.origin+t,redirect_url:window.location.origin+t+"/redirect",integration_setup_url:window.location.origin+t+"/setup/integrations",start:e("#start-preview").value,end:e("#end-preview").value,platform:"CTFd",state:window.STATE};const a=[];for(let r in i)a.push(encodeURIComponent(r)+"="+encodeURIComponent(i[r]));window.open("https://www.majorleaguecyber.org/events/new?"+a.join("&"),"_blank")},submitSetup(e){if(document.querySelector("#newsletter-checkbox").checked){let a={email:e.target.querySelector("input[name=email]").value,b_38e27f7d496889133d2214208_d7c3ed71f9:"",c:"jsonp_callback_"+Math.round(1e4*Math.random())};const r=[];for(let o in a)r.push(encodeURIComponent(o)+"="+encodeURIComponent(a[o]));var t=document.createElement("script");t.src="https://newsletters.ctfd.io/lists/ot889gr1sa0e1/subscribe/post-json?"+r.join("&"),document.head.appendChild(t)}}}));n.start();
