<!DOCTYPE html>
<html>
  <head>
    <title>{{ Configs.ctf_name }}</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      href="{{ Configs.ctf_small_icon }}"
      type="image/x-icon"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('views.themes', path='css/fonts.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('views.themes', path='css/main.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('views.themes', path='css/core.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('views.themes', path='css/core.css') }}"
    />
    <!-- CTFd refuses to hot-reload for me so I guess I'll have to do it myself ðŸ’€ -->
    <link rel="stylesheet" href="/themes/maple/static/css/main.css" />
    <link
      rel="stylesheet"
      href="http://ronenness.github.io/RPGUI/rpgui/rpgui.min.css"
    />
    <link
      href="https://unpkg.com/nes.css@latest/css/nes.min.css"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    {% block stylesheets %} {% endblock %} {{ Plugins.styles }}
    <script type="text/javascript">
      var init = {
      	'urlRoot': "{{ request.script_root }}",
      	'csrfNonce': "{{ Session.nonce }}",
      	'userMode': "{{ Configs.user_mode }}",
      	'userId': {{ Session.id }},
      	'userName': "{{ User.name }}",
      	'userEmail': "{{ User.email }}",
      	'teamId': {{ Team.id | tojson }},
      	'teamName': "{{ Team.name }}",
      	'start': {{ Configs.start | tojson }},
      	'end': {{ Configs.end | tojson }},
      	'theme_settings': {{ Configs.theme_settings | tojson }}
      }
    </script>
    {{ Configs.theme_header }}
  </head>
  <body class="rpgui-content">
    {% include "components/navbar.html" %}

    <main role="main">
      {% block content %} {% endblock %}
    </main>

    <div id="maple-chan-bounce" onmouseover="generateText()">
      <div class="nes-balloon from-right" id="maple-chan-text">...</div>
      <img src="/themes/maple/static/img/maplechan.png" id="maple-chan-image" />
    </div>

    <footer class="footer">
      <div class="container text-center">
        <a href="https://ctfd.io" class="text-secondary">
          <small class="text-muted">Powered by CTFd</small>
        </a>
      </div>
    </footer>

    <script
      defer
      src="{{ url_for('views.themes', path='js/vendor.bundle.js') }}"
    ></script>
    <script
      defer
      src="{{ url_for('views.themes', path='js/core.js') }}"
    ></script>
    <script
      defer
      src="{{ url_for('views.themes', path='js/helpers.js') }}"
    ></script>

    {% block entrypoint %}
    <script
      defer
      src="{{ url_for('views.themes', path='js/pages/main.js') }}"
    ></script>
    {% endblock %} {% block scripts %} {% endblock %} {{ Plugins.scripts }}

    <script src="http://ronenness.github.io/RPGUI/rpgui/rpgui.min.js"></script>

    <script>
      const pathname = window.location.pathname;
      if (pathname === "/") {
        document.getElementById("maple-chan-bounce").style.display = "none";
      }

      function generateText() {
        const texts = [
          "Don't give up!",
          "You can do it!",
          "Have you asked for help?",
          "u w u",
          "Nyaaa!",
          "The flag is a lie!",
        ];
        document.getElementById("maple-chan-text").innerHTML =
          texts[Math.floor(Math.random() * texts.length)];
      }
    </script>

    {{ Configs.theme_footer }}
  </body>
</html>
